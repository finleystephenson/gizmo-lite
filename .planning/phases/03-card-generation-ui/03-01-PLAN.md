---
phase: 03-card-generation-ui
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/templates/base.html (create)
  - src/templates/index.html (create)
  - src/routes/main.py (create)
  - src/app.py (modify)
autonomous: true
---

<objective>
Create base Flask templates with Tailwind CSS and homepage route for flashcard generation.

Purpose: Establish UI foundation with styling and user input form
Output: Working homepage with notes textarea and topic input
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

**From Phase 1:**
- Flask app exists in src/app.py with database initialization
- Project uses src/ directory structure
- Flask runs from project root with `flask run`

**From STATE.md decisions:**
- Tailwind CSS chosen for styling (modern utility-first approach)
- Modal popup for card editing (decided earlier)
- Student-friendly explanations in code

**Current Flask app structure:**
```python
# src/app.py already has:
from flask import Flask
from src.config import Config
from src.models.database import init_db

app = Flask(__name__)
app.config.from_object(Config)
init_db()
```

**Phase 3 Goal:**
Build web interface for entering study notes and topic, triggering AI generation.

@src/app.py
@src/config.py
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create base template with Tailwind CSS</name>
  <files>src/templates/base.html</files>
  <action>
Create Jinja2 base template with:
- HTML5 doctype and meta tags (charset UTF-8, viewport)
- Tailwind CSS CDN in head: `<script src="https://cdn.tailwindcss.com"></script>`
- Block structure: {% block title %}, {% block content %}
- Simple header with app name "AI Flashcard Generator"
- Clean, minimal design with container layout
- Include student-friendly HTML comments explaining Jinja2 blocks

**Why Tailwind CDN:**
- No build step needed (simpler for student)
- Instant utility classes available
- Good enough for local-first app (no production deployment needed)

**Template structure:**
```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}AI Flashcard Generator{% endblock %}</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50">
    <header class="bg-blue-600 text-white p-4">
        <div class="container mx-auto">
            <h1 class="text-2xl font-bold">AI Flashcard Generator</h1>
        </div>
    </header>

    <main class="container mx-auto p-4">
        {% block content %}{% endblock %}
    </main>
</body>
</html>
```
  </action>
  <verify>File exists at src/templates/base.html with Tailwind CDN script tag</verify>
  <done>Base template created with header, Tailwind CSS, and Jinja2 block structure</done>
</task>

<task type="auto">
  <name>Task 2: Create homepage route with form</name>
  <files>src/routes/main.py, src/app.py</files>
  <action>
**Step 1: Create main routes file (src/routes/main.py):**
- Import Flask, render_template, request
- Create Blueprint named 'main'
- Define GET route for '/' (homepage)
- Render index.html template

**Step 2: Create index.html template (src/templates/index.html):**
- Extend base.html
- Form with POST action="/generate"
- Textarea for study notes (name="notes", rows=10, required)
- Text input for topic name (name="topic", required)
- Submit button "Generate Flashcards"
- Use Tailwind classes for styling (form-control, button styles)
- Add helpful placeholder text for student guidance

**Step 3: Register blueprint in src/app.py:**
- Import main blueprint from src.routes.main
- Register with app.register_blueprint(main)

**Form design:**
```html
<form method="POST" action="/generate" class="max-w-2xl mx-auto bg-white p-6 rounded-lg shadow-md">
    <div class="mb-4">
        <label for="topic" class="block text-gray-700 font-bold mb-2">Topic Name</label>
        <input type="text" id="topic" name="topic" required
               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
               placeholder="e.g., Python Basics, Flask Routes, etc.">
    </div>

    <div class="mb-4">
        <label for="notes" class="block text-gray-700 font-bold mb-2">Study Notes</label>
        <textarea id="notes" name="notes" rows="10" required
                  class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                  placeholder="Paste your study notes here..."></textarea>
    </div>

    <button type="submit"
            class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors font-bold">
        Generate Flashcards
    </button>
</form>
```

**Why this structure:**
- Blueprint pattern keeps routes organized (Flask best practice)
- POST to /generate will be handled in next plan (separation of concerns)
- Tailwind utility classes avoid custom CSS files
- Placeholders guide the student on what to enter
  </action>
  <verify>
1. Flask app starts: `flask run`
2. Visit http://localhost:5000 - homepage renders
3. Form displays with topic input, notes textarea, submit button
4. Tailwind styling applied (blue header, white form card, styled inputs)
  </verify>
  <done>Homepage route works, form renders with Tailwind styling, ready for generation endpoint</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `flask run` starts without errors
- [ ] http://localhost:5000 renders homepage with form
- [ ] Form has topic input, notes textarea, and submit button
- [ ] Tailwind CSS applied (styles visible)
- [ ] Blueprint registered correctly in app.py
</verification>

<success_criteria>

- Base template created with Tailwind CDN
- Homepage route works and renders form
- Form submits to /generate (endpoint created in next plan)
- Clean, student-friendly UI with helpful placeholders
- All files follow src/ directory structure
- 2 git commits (Task 1: templates, Task 2: routes)
  </success_criteria>

<output>
After completion, create `.planning/phases/03-card-generation-ui/03-01-SUMMARY.md`
</output>
